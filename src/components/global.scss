@mixin transition--none(){
  &:not(.isActive) { 
    opacity: 0; 
    pointer-events: none;
  }
}

@mixin transition--fade($transition-time: 250ms){
  transition: opacity $transition-time;

  &:not(.isActive) { 
    opacity: 0; 
    pointer-events: none;
  }
}

.Transition{
  @include transition--none();
}

.Transition--fade{
  @include transition--fade();
}

.Transition--slow-fade{
  @include transition--fade(1000ms);
}

.ScrollSections {
  padding: 50vh 0 calc(50vh - 1px);
  pointer-events: none;

  &__fixedRoot{
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; 
    height: 100vh;

  }

  &__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 110%;
    background-size: cover;
  }
}
.ScrollSection {
  @include transition--fade;
  opacity: 1;
  display: flex; 
  align-items: center; 
  justify-content:center;
  min-height: 100vh;
  position: relative;
  top:0;
  left:0;
  width:100%;
  pointer-events: none;

  &__timeIndicator{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    // z-index: 100;

    &:after{
      content:'';
      display:block;
      width:8px;
      height:10%;
      position:absolute;
      top:45%;
      left:2px;
      border-radius: 5px;
      background-color: #be553d;
      background-clip: padding-box;
      border:1px solid rgba(0,0,0,0.3);
    }
  }
}

.Video{
  @include transition--fade(500ms);
  will-change: opacity;
  pointer-events: auto;
  // background-color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  position:relative;


   &__wrapper{
    position:relative;
    padding-top: calc(100% / (1280 / 720));
    width: 100%;
    overflow: hidden;
    mask-image: url('../img/postcard_mask.png');
    mask-size: 100% 100%;
    

    &__playButton{
      @include transition--none;
      position: absolute;
      top: calc(50% - 50px);
      left: calc(50% - 50px);
      background: #000;
      border: 1px solid #be553d;
      border-radius: 50%;
      padding: 25px;

      width: 50px;
      height: 50px;

      svg *{
        fill: #be553d;
      }
    }

    &__ytEmbed{
    position: absolute;
    top: -25%;
    left: 0;
    width: 100%;
    height: 150%;
    pointer-events: none;

   }
  }

  &__controls{
    @include transition--fade;
    &:not(.isActive) { pointer-events: auto;}
    position: absolute;
    bottom: 0;
    left: 32px;
    right: 32px;
    min-height: 40%;

    &:before{
      content: "";
      display: block;
      position: absolute;
      top: 0;
      left: -32px;
      bottom: 0;
      right: -32px;
      background: linear-gradient(0deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0) 100%);
    }

    &__playToggle{
      position: absolute; left:-6px; bottom: 45px; width: 25px;

      svg{
        display: block;
      }

      polygon, rect{
        fill: #fff;
      }
    }
    &__time{
      position: absolute; right:0; bottom: 45px; color: #fff;
      line-height: 30px;
    }
    &__slider{
      position: absolute; bottom:0; width: 100%;

      &__wrapper{
        position: relative;
        height: 45px;
        width: 100%;
      }

      &__bar{
        position: absolute;
        bottom: 50%;
        height: 2px;
        left:0px;
        right:0px;
        background: rgba(255,255,255,0.25);

        &__progress, &__loaded, &__intent{
          position: absolute; top:0; bottom:0; left:0; 
          transition: width 100ms linear;
        }
        &__loaded{ background: rgba(255,255,255,0.25);}
        &__progress{ background: #be553d; }
      }

      &__handle{
        position: absolute;
        bottom: calc(50% + 2px + 5px);
        transition: left 100ms linear;
        transform: translateX(-50%);

        &:before{
          content:"";
          display: block;
          width: 0; 
          height: 0; 
          border-left: 6px solid transparent;
          border-right: 6px solid transparent;
          border-top: 6px solid #fff;
        }
      }
      &__intentHandle{
        opacity: 0;
        transition: opacity 250ms;
        position: absolute; 
        bottom: calc(50% + 2px + 9px);
        transform: translateX(-50%);
        width: 101px;
        text-align: center;
        color: #fff;

        &:after{
          content: "";
          display: block;
          width: 1px;
          height: 17px;
          background: #fff;
          position: absolute;
          left:50%;
          top: 100%;
        }
        &.isActive{
          opacity: 1;
        }
      }
    }
  }


  &--fullscreen{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom:0;
    margin: auto;
    width: 90% !important;
    // height: 90% !important;
    max-width: calc(90vh / (720 / 1280));
  }
}

