.Asset--fade-in{
  transition: opacity 250ms ease-in-out;

  &:not(.isLoaded) { 
    opacity: 0; 
  }
}

@mixin transition--none(){
  &:not(.isActive) { 
    opacity: 0 !important; 
    pointer-events: none;
  }
}

@mixin transition--fade($transition-time: 250ms){
  // transition: opacity $transition-time cubic-bezier(0, 0.75, 1, 1);
  transition: opacity $transition-time ease-in-out;

  &:not(.isActive) { 
    // transition: opacity $transition-time cubic-bezier(0, 0, 1, 0.425);
    opacity: 0 !important; 
    pointer-events: none;
  }
}

@mixin transition--crossfade($transition-time: 250ms){
  transition: opacity $transition-time cubic-bezier(0, 0.75, 1, 1);
  // transition: opacity $transition-time ease-in-out;

  &:not(.isActive) { 
    transition: opacity $transition-time cubic-bezier(0, 0, 1, 0.425);
    opacity: 0 !important; 
    pointer-events: none;
  }
}


.Transition{
  @include transition--none();
}

.Transition--fade{
  @include transition--fade();
}

.Transition--slow-fade{
  @include transition--fade(1000ms);
}

.Transition--crossfade{
  @include transition--fade(250ms);
}

.visuallyhidden { 
  position: absolute; 
  overflow: hidden; 
  clip: rect(0 0 0 0); 
  height: 1px; width: 1px; 
  margin: -1px; padding: 0; border: 0; 
}

html,body{
  padding: 48px 0 0;
  // overscroll-behavior: none;
}



.Navbar{
  height: 48px;
  background-color: #be553d;
  line-height: 48px;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
}

.Panel{
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.ScrollSections {
  position: relative;
  // margin-top:48px;
  left:0;
  // padding: calc(50vh - 24px) 0 calc(50vh - 25px);
  pointer-events: none;

  &__fixedRoot{
    position: fixed; 
    top: 48px; left: 0; 
    right: 0; 
    bottom: 0;

  }

  &__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 110%;
    background-size: cover;

    // &:before, 
    &:after{
      content: "";
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right:0;
      bottom:0;
      background-size: 85px auto;
      background-image: url('../img/noise_white.png');
      opacity: 0.4;
    }
    // &:before{
    //   background-image: url('../img/noise_white.png');
    //   background-size: 150px auto;
    // }
    // transition: transform 50ms;
  }
}
.ScrollSection {
  @include transition--fade;
  opacity: 1;
  display: flex; 
  align-items: center; 
  justify-content:center;
  min-height: calc(100vh - 48px);
  position: relative;
  width:100%;
  pointer-events: none;

  &__timeIndicator{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    // z-index: 100;

    &:after{
      content:'';
      display:block;
      width:7px;
      height:10%;
      position:absolute;
      top:45%;
      left:2px;
      border-radius: 5px;
      background-color: #be553d;
      // background-clip: padding-box;
      // border:1px solid rgba(0,0,0,0.3);
    }
  }
}

.Video{
  // @include transition--none;
  @include transition--fade(500ms);
  
  // background-color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  will-change: opacity;

  &.isActive{
    pointer-events: auto;
  }


  &:not(.isActive){ 
    // transition: opacity 2500ms;
    iframe{
      // display: none;
    }
  }


   &__wrapper{
    position:relative;
    padding-top: calc(100% / (1280 / (720 - 2)));
    width: 100%;
    overflow: hidden;
    background: #000;
    mask-image: url('../img/postcard_mask.png');
    mask-size: 100% 100%;
    
    &__playButton{
      display: none;
      @include transition--fade(200ms);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #000;
      border: 1px solid #be553d;
      border-radius: 50%;
      width: calc(8% + 35px);

      svg {
        width: 100%;
        padding: 20%;
        display: block;
        *{fill: #be553d;}
      }
    }

    &__ytEmbed{
    position: absolute;
    top: -0%;
    left: 0;
    width: 100% !important;
    height: 100% !important;
    // pointer-events: none;
   }

   &__controlsScrim{
      @include transition--fade(200ms);
      position: absolute;
      height: 40%;
      pointer-events: none;
      left: -1px;
      bottom: -1px;
      right: -1px;
      background: linear-gradient(0deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0) 100%);
    }
  }

  &__controls{
    @include transition--fade(200ms);
    // @include transition--none;
    &:not(.isActive) { pointer-events: inherit;}
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    min-height: 40%;

    // &.isPlaying{
    //   cursor: none;
    // }

    &__playToggle{
      position: absolute; left:calc(1% + 10px); bottom: 40px; width: 20px;

      svg{
        display: block;
      }

      polygon, rect{
        fill: #fff;
      }
    }
    &__time{
      position: absolute; right:calc(1% + 16px); bottom: 40px; color: #fff;
      line-height: 30px;
    }
    &__slider{
      position: absolute; bottom:0; left: calc(1% + 16px); right: calc(1% + 16px);

      &__wrapper{
        position: relative;
        height: 40px;
        width: 100%;
      }

      &__bar{
        position: absolute;
        bottom: 50%;
        height: 2px;
        left:0px;
        right:0px;
        background: rgba(255,255,255,0.25);

        &__progress, &__loaded, &__intent{
          position: absolute; top:0; bottom:0; left:0; 
          transition: width 100ms linear;
        }
        &__loaded{ background: rgba(255,255,255,0.25);}
        &__progress{ background: #be553d; }
      }

      &__handle{
        position: absolute;
        bottom: calc(50% + 2px + 5px);
        transition: left 100ms linear;
        transform: translateX(-50%);

        &:before{
          content:"";
          display: block;
          width: 0; 
          height: 0; 
          border-left: 6px solid transparent;
          border-right: 6px solid transparent;
          border-top: 6px solid #fff;
        }
      }
      &__intentHandle{
        @media (hover: none) {
          display: none;
        }
        opacity: 0;
        pointer-events: none;
        transition: opacity 250ms;
        position: absolute; 
        bottom: calc(50% + 2px + 5px);
        transform: translateX(-50%);
        width: 101px;
        text-align: center;
        color: #fff;

        &:after{
          content: "";
          display: block;
          width: 1px;
          height: 17px;
          background: #fff;
          position: absolute;
          left:50%;
          top: 100%;
        }
        &.isActive{
          opacity: 1;
        }
      }
    }
  }


  &--fullscreen{
    // .Video__wrapper{
    //   mask-image: unset;
    // }
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom:0;
    margin: auto;
    width: calc(100% - 7vh);
    max-width: calc((100vh - 48px - 7vh) / (720 / 1280));
  }
}

